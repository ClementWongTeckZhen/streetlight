<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ESP32 数据监控</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
</head>
<body>
  <h2>实时数据：</h2>
  <p id="data">加载中...</p>

  <script>
    // 替换成你的 Firebase 配置信息（在 Firebase 控制台复制）
    const firebaseConfig = {
      apiKey: "AIzaSyBuL1RKXOEbX4-Y2eKJhzBmKjHSmmgWrgU",
      authDomain: "streetlight-6370e.firebaseapp.com",
      databaseURL: "https://streetlight-6370e-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "streetlight-6370e",
      storageBucket: "streetlight-6370e.firebasestorage.app",
      messagingSenderId: "532892421203",
      appId: "1:532892421203:web:c210b7b6e21b85d651caa6"
    };

    // 初始化 Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // 监听节点 sensor/value 的变化
    firebase.database().ref("sensor/value").on("value", (snapshot) => {
      document.getElementById("data").innerText = snapshot.val();
    });
  </script>
</body>
</html>
