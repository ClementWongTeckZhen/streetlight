<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>ESP32 数据监控</title>
  <!-- Firebase v8 SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
  <h2>实时数据：</h2>
  <p id="data">加载中...</p>

  <script>
    // 复制 Firebase 控制台给你的配置粘贴到这里
    const firebaseConfig = {
      apiKey: "AIzaSyBuL1RKXOEbX4-Y2eKJhzBmKjHSmmgWrgU",
      authDomain: "streetlight-6370e.firebaseapp.com",
      databaseURL: "https://streetlight-6370e-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "streetlight-6370e",
      storageBucket: "streetlight-6370e.firebasestorage.app",
      messagingSenderId: "532892421203",
      appId: "1:532892421203:web:c210b7b6e21b85d651caa6"
    };

    // 初始化 Firebase
    firebase.initializeApp(firebaseConfig);

    // 监听 Realtime Database 节点
    const dbRef = firebase.database().ref("sensor/value");
    dbRef.on("value", (snapshot) => {
      document.getElementById("data").innerText = snapshot.val();
    });
  </script>
</body>
</html>
